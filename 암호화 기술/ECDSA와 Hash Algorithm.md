# Bitcoin μ•”νΈν™”
- μµλ…μ„±
  - μ‹ μ›μ„ λ“λ¬λ‚΄μ§€ μ•κ³ (Address μ΄μ©) κ±°λκ°€ κ°€λ¥
- λ¶€μΈλ°©μ§€
  - λ³ΈμΈμ΄ λ³΄μ ν• κ°μΈν‚¤λ΅ μ„λ…ν•κΈ° λ•λ¬Έμ—, λ¶€μΈλ°©μ§€μ κΈ°λ¥
- μ„λ³€μ΅° λ°©μ§€
  - Hash μ•κ³ λ¦¬μ¦κ³Ό PKIλ¥Ό μ‚¬μ©ν•μ—¬ κ±°λ μ„λ³€μ΅°λ¥Ό λ°©μ§€

## ECDSA
- RSAμ™€ λ™μΌν• μ•”νΈν™” μ„λ… μ•κ³ λ¦¬μ¦
- νƒ€μ›κ³΅μ„  κΈ°λ°

### ECC
- ECC(Elliptic Curve Cryptography)λ” κ³µκ°ν‚¤ μ•”νΈκΈ°μ  κµ¬ν„ λ°©μ‹ μ¤‘ ν•λ‚μ΄λ‹¤.
- RSAμ— λΉ„ν•΄ λ” μ‘μ€ λ°μ΄ν„°λ΅ RSAμ™€ λΉ„μ·ν• λ³΄μ•μ„±λ¥μ„ μ κ³µν•λ‹¤.
  - 2048 -> 256
- μ‹¤μ  λ””μ§€ν„Έ μ„λ…λ°©μ‹μΌλ΅ κµ¬ν„λ μ•κ³ λ¦¬μ¦μ„ ECDSAλΌκ³  λ¶€λ¥Έλ‹¤.
  - λ””μ§€ν„Έ μ„λ…μ΄λ€ κ°μΈν‚¤λ΅ μ•”νΈν™”ν•λ” κ²ƒμ„ λ»ν•λ‹¤.
- Bitcoinμ—μ„λ” secp256k1 μ΄λΌλ” νƒ€μ›κ³΅μ„ μ„ μ΄μ©ν•λ‹¤.
  - π‘¦^2 = π‘¥^3 + 7 
- μ΄λ¥Ό μ ν•ν• κ³µκ°„μ—μ„ ν‘ν„ν•κΈ° μ„ν•΄μ„ mod pλ¥Ό ν†µν•΄ κ°λ£¨μ•„ ν•„λ“μƒμ—μ„ ν‘μ‹ν•λ‹¤.
  - π‘¦^2π‘π‘π‘‘π‘= (π‘¥^3+π‘π‘¥+π‘)π‘π‘π‘‘π‘

### PKI
- ECCμ—μ„ κ³΅μ„  μ„μ μ  P1, P2λ¥Ό μ„ νƒν•λ©΄ μ°λ¦¬λ” μ΄λ¥Ό μ§μ„ μΌλ΅ μ—°κ²°ν•λ©΄ P3λ¥Ό μ°Ύμ„ μ μλ‹¤.
   π‘ƒ1 + π‘ƒ2 = π‘ƒ3
- μ΄ μμ‹μ„ Doubling μ΄λΌκ³  μΉ­ν•λ‹¤.
- Private Keyλ” Pλ³΄λ‹¤ μ‘μ€ μ†μ(d)μ΄λ‹¤.
- PublicKeyλ” Q=d x G μ΄λ‹¤.
  - Gλ” κ³µκ°λ μΆν‘κ°’
- Q=(G+G...+G)λ΅ν‘ν„λλ‹¤.

#### Bitcoin Private Key μƒμ„±
- 256bit κΈΈμ΄μ λλ¤ μ«μλ¥Ό μ„ νƒ: d(private key)
#### Bitcoin Address μƒμ„±
- μ„ νƒλ κ°’μ„ ν†µν•΄ ECDSAλ΅ public key μƒμ„±
- μƒμ„±λ κ°’μ„ Hash
- Base58 Encodeλ¥Ό ν†µν•΄ μƒμ„±

#### Bitcoin κ±°λ μ„λ…
- κ±°λ λ°μƒ: tx -> 
- κ±°λ ν•΄μ‹±: SHA256(SHA256(Tx)): msg -> 
- κ°μΈν‚¤λ΅ μ„λ…: ECDSA(private key, msg): sign data ->
- κ³µκ°ν‚¤λ΅ λ³µνΈν™”: ECDSA(public key, msg): msg
- λ‹¤λ¥Έ κ±°λμ ν•΄μ‹κ°’κ³Ό λΉ„κµ

##### μ„λ… λ°©μ‹
- κ°μΈν‚¤ d, Random μ: r, κ³µκ°ν‚¤: Q(dG), μ „μ†΅ κ±°λ λ°μ΄ν„°: m
- κ°μΈν‚¤λ΅ μ„λ…ν•λ” λ²•
  - S = hash(m, rG)d + r
- μ„λ… κ²€μ¦ν•λ” λ²•
  - hash(m`, rG)Q + rG = SG

## Hash Algorithm
- Hash Algorithmκ³Ό κ°€μ¥ μ μ‚¬ν• μν•™μ  κ³µμ‹μ€ mod ν•¨μμ΄λ‹¤.
  - y = x(mod n)
- λ‹¨λ°©ν–¥ μ•κ³ λ¦¬μ¦(One-Way)
  - RSA μ•”νΈν™” μ•κ³ λ¦¬μ¦μ€ μ•”νΈν™” ν›„ λ³µνΈν™”λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό ν™•μΈν•  μ μμ§€λ§ Hashλ” ν™•μΈν•  μ μ—†λ‹¤.
- Collisionμ΄ κ±°μ λ°μƒν•μ§€ μ•λ”λ‹¤.
  - μν•™μ μΌλ΅ μ¦λ…λμ—λ‹¤κ³  ν•λ‹¤.


### Merkle Tree μ„λ³€μ΅°
![Merkle%20Tree%20μ„λ³€μ΅°.png](Merkle%20Tree%20μ„λ³€μ΅°.png)
- κ°κ°μ κ±°λλ¥Ό ν•΄μ‹±ν•λ‹¤.
- ν•΄μ‹±ν• κ°’λ“¤λ΅ μ§μ„ μ§€μ–΄ λ‹¤μ‹ ν•΄μ‹±ν•λ‹¤.
  - λ§μ•½ ν•λ‚λΌλ©΄ λ³µμ‚¬ν•΄μ„ μ§„ν–‰ν•λ‹¤.
- μµμƒμ„μ ν•΄μ‹κ°’ ν•λ‚λ§ μ €μ¥ν•λ‹¤.
- λ§μ•½ κ±°λκ°€ λ³€μ΅°λμ–΄ ν•΄μ‹κ°’μ΄ λ³€κ²½λλ‹¤λ©΄ Merkle Rootμ κ°’μ΄ λ‹¤λ¥΄κΈ° λ•λ¬Έμ— λ¬Έμ κ°€ μƒκΈ΄κ²ƒμ„ μ• μ μλ‹¤.